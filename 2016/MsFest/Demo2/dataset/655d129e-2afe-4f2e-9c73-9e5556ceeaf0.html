<html lang="cs" xml:lang="cs" xmlns="http://www.w3.org/1999/xhtml" xmlns:og="http://opengraphprotocol.org/schema" xmlns:twitter="http://api.twitter.com/"> <head> <title>Dajbych.net</title> <meta charset="utf-8" /> <meta name="viewport" content="width=device-width" /> <link rel="stylesheet" href="/style.css" /> <link rel="icon" type="image/x-icon" href="/design/favicon.ico" /> <meta name="application-name" content="Dajbych.net" /> <meta name="msapplication-config" content="/browserconfig/en" /> <meta name="msapplication-starturl" content="https://dajbych.net/blog/en" /> <meta name="msapplication-tap-highlight" content="no" /> <meta name="description" content="S ná­stu­pem Win­dows 10 bude možné hos­to­vat ob­sah apli­kace na vlast­ním ser­veru. I přesto ta­ková we­bová apli­kace bude mít přístup k Win­dows…" /> <meta name="twitter:card" content="summary" /> <meta name="twitter:url" content="https://dajbych.net/projekt-spartan-5-dil-windows-api-pro-webove-aplikace" /> <meta name="twitter:title" content="Projekt Spartan, 5. díl – Windows API pro webové aplikace" /> <meta name="twitter:description" content="S ná­stu­pem Win­dows 10 bude možné hos­to­vat ob­sah apli­kace na vlast­ním ser­veru. I přesto…" /> <meta name="twitter:image" content="https://dajbych.net/assets/square-150x150.png" /> <meta name="twitter:creator" content="@Dajbych" /> <meta property="og:url" content="https://dajbych.net/projekt-spartan-5-dil-windows-api-pro-webove-aplikace" /> <meta property="og:title" content="Projekt Spartan, 5. díl – Windows API pro webové aplikace" /> <meta property="og:description" content="S ná­stu­pem Win­dows 10 bude možné hos­to­vat ob­sah apli­kace na vlast­ním ser­veru. I přesto ta­ková we­bová apli­kace bude mít přístup k Win­dows Run­time – roz­hraní, které bylo dřív ur­čené výhradně na­tiv­ním apli­ka­cím. We­bová apli­kace bude ve Storu hned ve­dle apli­kace na­tivní…" /> <meta property="og:image" content="https://dajbych.net/assets/square-310x310.png" /> <script type="text/javascript" src="/scripts/syntax.js" /> </head> <body itemscope="itemscope" itemtype="http://schema.org/TechArticle"> <header> <div> <h1><a href="/" rel="home">Dajbych.net</a></h1> </div> <hr /> <h2 class="article" itemprop="headline">Projekt Spartan, 5. díl – Windows API pro webové aplikace</h2> <p><time datetime="2015-03-23 23:00:00Z">březen 2015</time>, 5 minut čtení</p> </header> <article itemprop="articleBody"><meta itemprop="datePublished" content="2015-03-23T23:00:00" /><meta itemprop="dateModified" content="2015-07-30T10:39:00" /><section><p class="perex" itemprop="description">S ná­stu­pem Win­dows 10 bude možné hos­to­vat ob­sah apli­kace na vlast­ním ser­veru. I přesto ta­ková we­bová apli­kace bude mít přístup k Win­dows Run­time – roz­hraní, které bylo dřív ur­čené výhradně na­tiv­ním apli­ka­cím. We­bová apli­kace bude ve Storu hned ve­dle apli­kace na­tivní. Při­tom jí bude možné vy­víjet a na­sa­zo­vat stejně jako we­bo­vou stránku. K Win­dows Run­time se bude přistu­po­vat z Ja­vaScriptu. We­bové apli­kace bu­dou ve Win­dows na­prosto rov­no­cenné apli­ka­cím na­tiv­ním.</p><p class="indented">V <a href="https://dajbych.net/projekt-spartan-4-dil-vylepseni-v-javascriptu">mi­nulém díle</a> jsem se vě­no­val směru, kterým se Ja­vaScript ubírá. Už teď je zře­telně vi­dět snaha při­blí­žit we­bové apli­kace mož­nos­tem, které mají apli­kace na­tivní. </p><h3>Pojem webová aplikace dostává zřetelný obrys</h3><p>Po­jem we­bová apli­kace je ve­lice roz­šířený, avšak není snadné ho přesně de­fi­no­vat. Snaží se však vy­stih­nout roz­díl mezi we­bo­vou apli­kací a we­bo­vou strán­kou. Kla­sická we­bová stránka je HTML, pří­padně CSS a even­tuálně ve­lice střídmý Ja­vaScript. Web byl na­vr­žený jako elek­tro­nická ná­s­těnka, ja­kási plat­forma pro čtení tex­to­vých do­ku­mentů, nebo elek­tro­nická knihovna. Po vi­deu a sdílení sou­borů ne­bylo ani vidu, ani sle­chu. Vy­kres­lo­vání scény, na které by se dala vy­tvo­řit hra, nebo plná kon­t­rola nad klá­ves­nicí a myší byla ne­před­sta­vi­telná.</p><p class="indented">Na­proti tomu vize we­bo­vých apli­kací byla silná už od po­čátku HTML5. Pů­vodně byl za­střešující po­jem pro vše okolo HTML5 do­konce <a href="https://whatwg.org/specs/web-apps/2005-09-01/" target="_blank">Web ap­pli­cati­ons</a>, ale HTML5 se roz­šířil tak rychle, že se tímto po­jmem za­čala ozna­čovat celá vize we­bo­vých apli­kací.</p><p class="indented">We­bová apli­kace má stejné mož­nosti jako apli­kace na­tivní, avšak stále se jedná o we­bo­vou stránku vyu­ží­vající HTML, CSS a Ja­vaScript. Může vy­kres­lo­vat po­mocí We­bGL stejně jako na­tivní apli­kace po­mocí Di­rectX. Je schopna pře­hrá­vat vi­deo stejně jako na­tivní apli­kace přes COM ob­jekty. Má mož­nost uklá­dat re­lační data do In­de­xedDB stejně jako na­tivní apli­kace do SQ­Lite. Systém jí umožní vy­vo­lat di­alo­gové okno pro ote­vření nebo ulo­žení sou­borů. A hlavně je schopná bě­žet na celé ob­ra­zovce a mít pl­nou kon­t­rolu nad vstupy z pe­ri­fe­rií (tedy myši, klá­ves­nice, joysticku, he­ad­setu a dal­ších). Jed­ním z cílů pro­jektu Spar­tan bylo vy­tvo­ření já­dra pro­hlí­žeče, které zvládne ve­dle vy­kres­lo­vání strá­nek utáh­nout i gra­ficky ná­roč­nou we­bo­vou hru a zpřístup­nit jí hard­ware.</p><p class="indented">V po­sled­ních ně­ko­lika le­tech se vy­tvo­řily dvě hlavní me­tody, jakými se apli­kace in­stalují a spouš­tějí. Doby, kdy se pro­dá­valy na CD v ob­cho­dech po­sta­ve­ných z ci­hel, jsou pryč. První je we­bový vyhle­dá­vač a druhý je store. V pod­statě jde o to­též. Go­o­gle, Bing a Se­znam vyhle­dá­vají we­bové apli­kace, zatímco Store, App Store a Go­o­gle Play vyhle­dá­vají apli­kace na­tivní. We­bové apli­kace se při­dá­vají do ob­líbe­ných po­lo­žek nebo zá­lo­žek, při­pí­nají se na hlavní pa­nel, star­to­vací ob­ra­zovku nebo no­vou kartu. Na­tivní apli­kace se in­stalují a zá­stupci se umisťují na plo­chu, nabídku Start nebo rov­nou na hlavní pa­nel. Ve Win­dows 10 bude mít we­bová apli­kace stejné mož­nosti, jako mají apli­kace na­tivní. </p><h3>Hosted Web Apps</h3><p>Hos­ted Web App je ná­zev pro we­bo­vou apli­kaci, která vy­padá stejně, jako ja­ká­ko­liv jiná na­tivní apli­kace, je uve­dená ve Storu, ale ve sku­teč­nosti to může být we­bová stránka psaná po­mocí Sub­lime a vy­sta­vená přes Git (avšak Vi­sual Stu­dio a TFVC jde sa­mo­zřejmě po­u­žít také). Go­o­gle tento přístup na­zývá Chrome Pac­kaged Apps.</p><p class="indented">We­bová apli­kace bude moct ak­tua­li­zo­vat dlaždici, zob­ra­zo­vat toast no­ti­fi­kace, mít přístup ke kon­tak­tům v po­čítači a bude mít vyhra­zený prostor, do kte­rého může uklá­dat své sou­bory. Stej­ného cíle jde do­sáh­nout už teď po­mocí Store apli­kací, které jdou psát v Ja­vaScriptu. Vý­vo­jáři webů však nejsou zvyklí na to, že apli­kace jde ak­tua­li­zo­vat jen na­hrá­ním balíčku přes Store. Vět­ši­nou se ak­tua­li­zuje přes We­b­Deploy či FTP, nebo v pří­padě con­ti­nuous in­te­gration přes TFVC nebo Git. Po­kud ně­kdo chtěl vy­tvo­řit we­bo­vou apli­kaci a umís­tit jí do storu, mu­sel vy­tvo­řit apli­kaci na­tivní, která ob­sahuje <em>if­rame</em> a další drobné ne­zbyt­nosti. Hos­ted Web Apps mají od­stra­nit i tento krok. Win­dows Run­time API bude přístupné z Ja­vaScriptu (avšak jen po­kud je apli­kace na­in­stalo­vaná) a in­for­mace pro Store ob­stará ma­ni­fest. Jestli bude tyto we­bové apli­kace zařa­zo­vat do Storu au­to­ma­ticky Bing, zatím jasné není. Sta­čilo by pak dát na web je­den sou­bor a we­bová apli­kace by se zob­ra­zila ve Storu. Mys­lím si ale, že je jen otáz­kou času, než se tak stane.</p></section><div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="Dajbych.net" /><div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="http://dajbych.net/assets/wide-300x60.png" /><meta itemprop="width" content="300" /><meta itemprop="height" content="60" /></div></div></article> <footer> <section class="tags"> <h3>Štítky</h3> <p class="tags"> <a href="/tag/Spartan" rel="tag">Spartan</a> <a href="/tag/Edge" rel="tag">Edge</a> </p> </section> <section class="author"> <p itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"> <img src="/design/mvp.png" width="94" height="148" alt="Microsoft MVP" /> napsal <span itemprop="name">Václav Dajbych</span>, <a href="https://mvp.microsoft.com/en-us/mvp/V%C3%A1clav%20Dajbych-5000527" target="_blank" rel="nofollow">Microsoft <abbr title="Most Valuable Professional">MVP</abbr></a> <br /> softwarový vývojář, školitel a konzultant <br /> <a id="em" /> <script type="text/javascript" async="async">
                if (typeof(atob) == &apos;undefined&apos;) {
                    function atob(s) {
                        var e = {}, i, k, v = [], r = &apos;&apos;, w = String.fromCharCode;
                        var n = [[65, 91], [97, 123], [48, 58], [43, 44], [47, 48]];
                        for (z in n) {
                            for (i = n[z][0]; i &amp;lt; n[z][1]; i++) {
                                v.push(w(i));
                            }
                        }
                        for (i = 0; i &amp;lt; 64; i++) {
                            e[v[i]] = i;
                        }
                        for (i = 0; i &amp;lt; s.length; i += 72) {
                            var b = 0, c, x, l = 0, o = s.substring(i, i + 72);
                            for (x = 0; x &amp;lt; o.length; x++) {
                                c = e[o.charAt(x)];
                                b = (b &amp;lt;&amp;lt; 6) + c;
                                l += 6;
                                while (l &amp;gt;= 8) {
                                    r += w((b &amp;gt;&amp;gt;&amp;gt; (l -= 8)) % 256);
                                }
                            }
                        }
                        return r;
                    }
                }
                var em = document.getElementById(&apos;em&apos;);
                em.innerText = atob(&apos;dmFjbGF2QGRhamJ5Y2gubmV0&apos;);
                em.setAttribute(&apos;href&apos;, &apos;mailto:&apos; + em.innerText);
            </script> </p> </section> <section class="misc"> <div class="flex"> <div class="subscribe"> <h3>Odebírat</h3> <p class="socialite"> <a class="twitter" href="https://twitter.com/Dajbych" target="_blank" rel="nofollow"></a> <a class="feed" target="_blank" rel="nofollow"></a> </p> </div> <div class="share"> <h3>Sdílet</h3> <p class="socialite"> <a class="twitter" href="https://twitter.com/intent/tweet?text=Projekt+Spartan%2C+5.+d%C3%ADl+%E2%80%93+Windows+API+pro+webov%C3%A9+aplikace&url=https%3A%2F%2Fdajbych.net%2Fprojekt-spartan-5-dil-windows-api-pro-webove-aplikace" target="_blank" rel="nofollow"></a> <a class="facebook" href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Fdajbych.net%2Fprojekt-spartan-5-dil-windows-api-pro-webove-aplikace&t=Projekt+Spartan%2C+5.+d%C3%ADl+%E2%80%93+Windows+API+pro+webov%C3%A9+aplikace" target="_blank" rel="nofollow"></a> <a class="linkedin" href="https://www.linkedin.com/shareArticle?miniu=true&url=https%3A%2F%2Fdajbych.net%2Fprojekt-spartan-5-dil-windows-api-pro-webove-aplikace&title=Projekt+Spartan%2C+5.+d%C3%ADl+%E2%80%93+Windows+API+pro+webov%C3%A9+aplikace" target="_blank" rel="nofollow"></a> <a class="gplus" href="https://plus.google.com/share?url=https%3A%2F%2Fdajbych.net%2Fprojekt-spartan-5-dil-windows-api-pro-webove-aplikace" target="_blank" rel="nofollow"></a> <a class="reddit" href="https://www.reddit.com/submit?url=https%3A%2F%2Fdajbych.net%2Fprojekt-spartan-5-dil-windows-api-pro-webove-aplikace&title=Projekt+Spartan%2C+5.+d%C3%ADl+%E2%80%93+Windows+API+pro+webov%C3%A9+aplikace" target="_blank" rel="nofollow"></a> </p> </div> </div> <div class="reco"> <h3>Další</h3> <p class="reco"> <ul> <li> <a href="/projekt-spartan-3-dil-nove-jadro"> <span> <img src="/logos/spartan.png" draggable="false" alt="spartan" /> </span> <span>Projekt Spartan, 3. díl – nové jádro</span> </a> </li> <li> <a href="/ie-11-0-16-40-oprav"> <span> <img src="/logos/windows-update.png" draggable="false" alt="windows update" /> </span> <span>IE 11.0.16 – 40 oprav</span> </a> </li> <li> <a href="/internet-explorer-podporuje-http-strict-transport-security"> <span> <img src="/logos/windows-update.png" draggable="false" alt="windows update" /> </span> <span>Internet Explorer podporuje HTTP Strict Transport Security</span> </a> </li> <li> <a href="/projekt-spartan-4-dil-vylepseni-v-javascriptu"> <span> <img src="/logos/spartan.png" draggable="false" alt="spartan" /> </span> <span>Projekt Spartan, 4. díl – vylepšení v JavaScriptu</span> </a> </li> </ul> </p> </div> </section> <section class="disqus"> <div id="disqus_thread" /> <script type="text/javascript" async="async">
                    var disqus_shortname = &apos;dajbych&apos;;
                    (function () { var dsq = document.createElement(&apos;script&apos;); dsq.type = &apos;text/javascript&apos;; dsq.async = true; dsq.src = &apos;//&apos; + disqus_shortname + &apos;.disqus.com/embed.js&apos;; (document.getElementsByTagName(&apos;head&apos;)[0] || document.getElementsByTagName(&apos;body&apos;)[0]).appendChild(dsq); })();
                </script> </section> <section> <div id="footer1" /> <div id="footer2"> <p>Spuštěním webového prohlížeče s vypnutým posíláním žádosti Do Not Track (Nesledovat) udělujete souhlas s použitím souborů cookie.</p> </div> </section> <environment names="Production"> <script type="text/javascript" async="async">
                (function (i, s, o, g, r, a, m) { i[&apos;GoogleAnalyticsObject&apos;] = r; i[r] = i[r] || function () { (i[r].q = i[r].q || []).push(arguments) }, i[r].l = 1 * new Date(); a = s.createElement(o), m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m) })(window, document, &apos;script&apos;, &apos;//www.google-analytics.com/analytics.js&apos;, &apos;ga&apos;);
                ga(&apos;create&apos;, &apos;UA-2191362-10&apos;, &apos;dajbych.net&apos;);
ga(&apos;set&apos;, &apos;dimension1&apos;, &apos;Front End Web Dev&apos;);                ga(&apos;send&apos;, &apos;pageview&apos;);
                </script> </environment> </footer> </body> </html>